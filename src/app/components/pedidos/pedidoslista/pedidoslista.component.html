<p>pedidoslista works!</p>
<div class="container">
  <h3 class="alert alert-primary">Listagem de pedidos!</h3>
  <div class="input-group mb-3">
    <span class="input-group-text" id="inputGroup-sizing-default">Default</span>
    <input type="text" class="form-control" aria-label="Sizing example input"
      aria-describedby="inputGroup-sizing-default" [(ngModel)]="termoBusca" (ngModelChange)="filtrar()">

  </div>
  <td> <button class="btn btn-primary" (click)="adicionar(modal1)">Adicionar</button> </td>
  <div class="row">
    <div class="col-lg-12">

      <div class="row">
        <div class="col-lg-3 margin" *ngFor="let pedido of listaFiltrada; let i = index">

          <div class="card">
            <img src="https://images.unsplash.com/photo-1697450300645-faf3676bb7b5?auto=format&fit=crop&q=60&w=600&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHx0b3BpYy1mZWVkfDN8NnNNVmpUTFNrZVF8fGVufDB8fHx8fA%3D%3D" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title" *ngIf="pedido.usuario?.nome != null">{{pedido.usuario?.nome}}</h5>
              <h5 class="card-title" *ngIf="pedido.usuario?.nome == null">Sem nome</h5>
              <h5 class="card-title" *ngIf="pedido.valorTotal != null"> R$:{{pedido.valorTotal | number : '1.2-2'  }}</h5>
              <p class="card-text" *ngIf="pedido.observacao != null">{{pedido.observacao}}</p>
              <p class="card-text" *ngIf="pedido.observacao == null">Sem observação</p>
              <button *ngIf="!modoLancamento" class="btn btn-primary" (click)="editar(modal1, pedido, i)">Editar</button>
              <button *ngIf="!modoLancamento" class="btn btn-danger" (click)="deletar(pedido)">Deletar</button>
              <button *ngIf="!modoLancamento" class="btn btn-secondary" (click)="verMais(modal2, pedido)">Ver mais</button>
            </div>
          </div>

        </div>

      </div>

    </div>
  </div>
</div>

<ng-template #modal1 let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Modal title</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">

    <app-pedidosdetails [pedido]="pedidoSelecionadoParaEdicao"
      (retorno)="addOuEditarPessoa($event)"></app-pedidosdetails>

  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-light" (click)="modal.close('Close click')">Close</button>
  </div>
</ng-template>

<ng-template #modal2 let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Modal title</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">

    <app-pedidosdetails [pedido]="pedidoSelecionadoParaEdicao" [modo]="true"></app-pedidosdetails>

  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-light" (click)="modal.close('Close click')">Close</button>
  </div>
</ng-template>

